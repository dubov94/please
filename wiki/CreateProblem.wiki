===Создание задачи===
==Linux==
=Создание=
Переместимся в директорию, в которой хотим создать задачу. Теперь создадим пустой макет для нашей задачи.
{{{
~$ please create problem cubes
Untitle(INFO) [01:40:23]: Problem cubes created successfully
}}}
Зайдём в папку с задачей и посмотрим, что внутри.
{{{
~$ cd cubes
~/cubes$ ll
drwxr-xr-x  6 dubov94 dubov94  4096 2011-09-22 01:40 ./
drwxr-xr-x 61 dubov94 dubov94  4096 2011-09-22 01:40 ../
-rw-r--r--  1 dubov94 dubov94   133 2011-09-22 01:40 checker.cpp
-rw-r--r--  1 dubov94 dubov94   552 2011-09-22 01:40 default.package
drwxr-xr-x  2 dubov94 dubov94  4096 2011-09-22 01:40 .please/
drwxr-xr-x  2 dubov94 dubov94  4096 2011-09-22 01:40 solutions/
drwxr-xr-x  2 dubov94 dubov94  4096 2011-09-22 01:40 statements/
-rw-r--r--  1 dubov94 dubov94 56775 2011-09-22 01:40 testlib.h
-rw-r--r--  1 dubov94 dubov94 12076 2011-09-22 01:40 testlib.pas
drwxr-xr-x  2 dubov94 dubov94  4096 2011-09-22 01:40 tests/
-rw-r--r--  1 dubov94 dubov94     0 2011-09-22 01:40 tests.please
-rw-r--r--  1 dubov94 dubov94   107 2011-09-22 01:40 validator.cpp
}}}
  * tests - папка с ручными тестами
  * solutions - папка со всеми решениями, лежит заготовка на cpp
  * statements - папка со всеми условиями, лежат две заготовки, для описания (description.ru.tex) и непосредственно условий (default.ru.tex). В перспективе развития please - много условий на разных языках, но пока нет, поэтому не обращаем внимания на `*`.ru
  * checker.cpp, validator.cpp - заготовки понятно чего
  * .please - папка с файлом time.config, в котором уникальная метка времени создания задачи
  * testlib.h, testlib.pas - джентельменский набор (писать генераторы, чекеры и валидаторы)
  * default.package - см. конфигурирование параметров
  * tests.please - см. конфигурирование тестов
Теперь что со всем этим можно делать, когда все конфиги прописаны.
=Жизнь после конфигурирования=
Прежде всего нужно понять, что без предварительно сгенерированных тестов ничего проверяться не будет. Генерируются они следующей командой:
{{{
~/<problem name>$ please generate tests
cubes(INFO) [02:02:30]: Generating 21 tests
cubes(INFO) [02:02:30]: Test #1 generated
cubes(INFO) [02:02:30]: Test #2 generated
cubes(INFO) [02:02:30]: Test #3 generated
cubes(INFO) [02:02:30]: Test #4 generated
cubes(INFO) [02:02:30]: Compiling: path:generator_random.cpp
cubes(INFO) [02:02:31]: Test #5 generated
...
cubes(INFO) [02:02:33]: Test #19 generated
cubes(INFO) [02:02:33]: Compiling: path:generator_max.cpp
cubes(INFO) [02:02:34]: Test #20 generated
cubes(INFO) [02:02:34]: Test #21 generated
cubes(INFO) [02:02:34]: Start validator on test: .tests/1
cubes(INFO) [02:02:34]: Compiling: path:validator.cpp
cubes(INFO) [02:02:36]: Validating .tests/1 by validator.cpp
cubes(INFO) [02:02:36]: Start validator on test: .tests/2
cubes(INFO) [02:02:36]: Validating .tests/2 by validator.cpp
...
cubes(INFO) [02:02:38]: Start validator on test: .tests/21
cubes(INFO) [02:02:38]: Validating .tests/21 by validator.cpp
cubes(INFO) [02:02:38]: Generating answer for .tests/1 with solutions/solution.py
cubes(INFO) [02:02:38]: Generating answer for .tests/2 with solutions/solution.py
...
cubes(INFO) [02:02:50]: Generating answer for .tests/21 with solutions/solution.py
}}}
Заметим, что они заодно провалидировались и ответы к ним (по main solution) составились.
Ещё можно задать теги (please generate tests with tag`[s]` ...), тогда будут браться тесты только с заданными тегами. Смотрите please help.
<br><br>
Теперь у нас есть некий набор тестов, который хранится в .tests. Да-да, у нас появилась новая папка. Так вот, представим, что мы заметили ошибку в валидаторе, и хотим заново провалидировать уже готовые тесты. Тогда сделаем так:
{{{
~/cubes$ please validate tests
cubes(INFO) [02:11:42]: Start validator on test: .tests/1
cubes(INFO) [02:11:42]: Validating .tests/1 by validator.cpp
cubes(INFO) [02:11:42]: Start validator on test: .tests/2
cubes(INFO) [02:11:42]: Validating .tests/2 by validator.cpp
cubes(INFO) [02:11:42]: Start validator on test: .tests/3
cubes(INFO) [02:11:42]: Validating .tests/3 by validator.cpp
}}}
Если что-то пойдёт не так, нас ждёт сюрприз:
{{{
cubes(ERROR) [02:13:16]: Validator executions has had RE
cubes(ERROR) [02:13:16]: 
STDERR:
}}}
Также можно перегенерировать ответы, please generate answers.
=Проверка решений=
Допустим, что мы уже прописали в конфиге все решения, и сгенерировали все тесты. Тогда мы можем проверять различные решения, например, главное:
{{{
~/cubes$ please check main solution
cubes(INFO) [00:47:15]: Testing solutions/solution.py on .tests/1
cubes(INFO) [00:47:15]: Testing solutions/solution.py on .tests/2
...
cubes(INFO) [00:47:29]: Testing solutions/solution.py on .tests/21

----------------------------------
| Test # | solutions/solution.py | 
----------------------------------
|      1 | OK T=0.09s RT=0.10s   | 
----------------------------------
|      2 | OK T=0.09s RT=0.10s   | 
----------------------------------
...
----------------------------------
|     21 | OK T=1.11s RT=1.12s   | 
----------------------------------

Total:  21
Failed: 0
Passed: 21
}}}
Какое-нибудь конкретное:
{{{
/cubes$ please check solution solutions/solution_wrong.cpp
cubes(INFO) [00:49:20]: Testing solutions/solution_wrong.cpp on .tests/1
cubes(INFO) [00:49:20]: Testing solutions/solution_wrong.cpp on .tests/2
...
cubes(INFO) [00:49:23]: Testing solutions/solution_wrong.cpp on .tests/21
cubes(INFO) [00:49:24]: 
STDERR:


-----------------------------------------
| Test # | solutions/solution_wrong.cpp | 
-----------------------------------------
|      1 | OK T=0.00s RT=0.00s          | 
-----------------------------------------
|      2 | OK T=0.00s RT=0.00s          | 
-----------------------------------------
...
-----------------------------------------
|     21 | RE T=0.00s RT=0.00s          | 
-----------------------------------------

Total:  21
Failed: 5
Passed: 16
}}}
Или же все вместе командой please check solutions.